<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>String Manipulation</title>
</head>
<body>
    <h1>Check the console for output</h1>
    <script>
        // Step 1: Define strings
        let myString = "This is a string";
        let anotherString = "   Another string";
        let hello = "Hello there!";
        let myName = "Ethan";

        console.log("Step 1 - Strings defined:", { myString, anotherString, hello, myName });

        // Step 2: Length and characters
        console.log("Length of myString:", myString.length);
        console.log("First character:", myString.charAt(0));
        console.log("11th character:", myString.charAt(10));

        // Step 3: Slice and substring
        console.log("Sliced 'is a':", myString.slice(5,9));
        console.log("Substring 'the':", anotherString.substring(4,7));

        // Step 4: Change case
        console.log("myName uppercase:", myName.toUpperCase());
        console.log("myName lowercase:", myName.toLowerCase());

        // Step 5: String manipulations
        console.log("Concatenated string:", hello.concat(" ", myName));
        console.log("Trimmed anotherString:", anotherString.trim());
        console.log("Replaced 'is a':", myString.replace("is a",""));
        console.log("Split myString:", myString.split(" "));

        console.log("File operations skipped (cannot access filesystem in browser).");

        // Function to save a string as a text file
function saveTextFile(filename, text) {
    // Create a blob with the text
    const blob = new Blob([text], { type: "text/plain" });

    // Create a download link
    const link = document.createElement("a");
    link.download = filename;
    link.href = window.URL.createObjectURL(blob);

    // Simulate click to download
    link.click();
}

// Example usage:
saveTextFile("output.txt", "This is the data to save in the file.");

// Function to read a text file selected by the user
function readTextFile(event) {
    const file = event.target.files[0];
    if (!file) return;

    const reader = new FileReader();
    reader.onload = function(e) {
        const text = e.target.result;
        console.log("File content:", text);
    };
    reader.readAsText(file);
}

// Example usage:
// Add an input element to select file
const input = document.createElement("input");
input.type = "file";
input.accept = ".txt";
input.addEventListener("change", readTextFile);
document.body.appendChild(input);

// Step 7: Write a text file named output.txt

// String to save
let dataToSave = "This is the content of the output.txt file.";

// Create a blob
const blob = new Blob([dataToSave], { type: "text/plain" });

// Create a download link
const link = document.createElement("a");
link.download = "output.txt"; // file name
link.href = window.URL.createObjectURL(blob);

// Trigger the download
link.click();

console.log("output.txt has been created and downloaded.");

// Step 8: Read the contents of a text file

// Function to handle file selection
function readTextFile(event) {
    const file = event.target.files[0]; // get selected file
    if (!file) return;

    const reader = new FileReader();
    reader.onload = function(e) {
        const text = e.target.result; // file content
        console.log("Contents of the file:");
        console.log(text); // display content in console
    };
    reader.readAsText(file);
}

// Create a file input element
const input = document.createElement("input");
input.type = "file";
input.accept = ".txt"; // only allow text files
input.addEventListener("change", readTextFile);

// Add the input to the page so the user can select a file
document.body.appendChild(input);
    </script>
</body>
</html>